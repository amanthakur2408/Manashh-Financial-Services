<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Financial Calculator | Manashh Financial Services</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="calculator.css">
</head>

<body class="calculator-page">

<!-- HEADER -->
<div class="calculator-header">
  <a href="index.html" class="back-home">‚Üê Back to Home</a>
  <img src="images/logo.png" class="calculator-logo" alt="Manashh Logo">
</div>

<!-- CONTENT -->
<div class="container">
  <div class="card">
    <h1>Financial Calculator</h1>
    <p>Select a calculator and enter details.</p>

    <!-- DROPDOWN -->
    <label for="calcType"><strong>Select Calculator</strong></label>
    <select id="calcType" onchange="switchCalculator()">
      <option value="sip">SIP Calculator</option>
      <option value="lumpsum">Lumpsum Calculator</option>
      <option value="emi">EMI Calculator</option>
    </select>

    <!-- INPUTS -->
    <div class="calculator">
      <input type="number" id="amount" placeholder="Monthly Investment (‚Çπ)">
      <input type="number" id="years" placeholder="Investment Duration (Years)">
      <input type="number" id="rate" placeholder="Expected Return (%)">

<button onclick="calculate()">Calculate</button>
      <!-- RESULT -->
      <div class="result" id="result" style="margin-top:20px; display:none;">
        <div class="result-grid">

          <div>
            <p>Total Invested / Principal: ‚Çπ<span id="invested">0</span></p>
            <p>Returns / Interest: ‚Çπ<span id="returns">0</span></p>
            <p style="font-size:20px;font-weight:600;color:#0b3c5d;">
              Final Amount: ‚Çπ<span id="corpus">0</span>
            </p>

            <!-- WHATSAPP -->
            <div style="margin-top:15px;">
              <button onclick="connectWhatsApp()" class="whatsapp-btn">
                üí¨ Connect with Us on WhatsApp
              </button>
            </div>
          </div>

          <!-- PIE -->
          <div>
            <div class="pie" id="pie"></div>

            <div class="pie-legend">
              <div class="legend-item">
                <span class="legend-color invest"></span> Investment
              </div>
              <div class="legend-item">
                <span class="legend-color return"></span> Returns
              </div>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<!-- SCRIPT -->
<script>
function switchCalculator() {
  const type = document.getElementById("calcType").value;
  const amount = document.getElementById("amount");
  const years = document.getElementById("years");
  const rate = document.getElementById("rate");

  amount.value = "";
  years.value = "";
  rate.value = "";
  document.getElementById("result").style.display = "none";

  if (type === "sip") {
    amount.placeholder = "Monthly Investment (‚Çπ)";
    years.placeholder = "Investment Duration (Years)";
    rate.placeholder = "Expected Return (%)";
  }

  if (type === "lumpsum") {
    amount.placeholder = "Investment Amount (‚Çπ)";
    years.placeholder = "Investment Duration (Years)";
    rate.placeholder = "Expected Return (%)";
  }

  if (type === "emi") {
    amount.placeholder = "Loan Amount (‚Çπ)";
    years.placeholder = "Loan Tenure (Years)";
    rate.placeholder = "Interest Rate (%)";
  }
}

function calculate() {
  const type = document.getElementById("calcType").value;
  const amount = +document.getElementById("amount").value;
  const years = +document.getElementById("years").value;
  const rate = +document.getElementById("rate").value;

  if (!amount || !years || !rate) {
    alert("Please enter all values");
    return;
  }

  let invested = 0, returns = 0, total = 0;

  if (type === "sip") {
    const r = rate / 100 / 12;
    const n = years * 12;
    total = amount * ((Math.pow(1 + r, n) - 1) / r) * (1 + r);
    invested = amount * n;
    returns = total - invested;
  }

  if (type === "lumpsum") {
    total = amount * Math.pow(1 + rate / 100, years);
    invested = amount;
    returns = total - invested;
  }

  if (type === "emi") {
    const r = rate / 12 / 100;
    const n = years * 12;
    const emi = (amount * r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);
    total = emi * n;
    invested = amount;
    returns = total - invested;
  }

  document.getElementById("invested").innerText = Math.round(invested).toLocaleString();
  document.getElementById("returns").innerText = Math.round(returns).toLocaleString();
  document.getElementById("corpus").innerText = Math.round(total).toLocaleString();

  const angle = (invested / total) * 360;
  document.getElementById("pie").style.background =
    `conic-gradient(#0b3c5d 0deg ${angle}deg, #e1e7ec ${angle}deg 360deg)`;

  document.getElementById("result").style.display = "block";
}

function connectWhatsApp() {
  const phone = "91XXXXXXXXXX"; // üëâ replace with your WhatsApp number
  const msg = "Hello, I used your financial calculator and would like expert guidance.";
  window.open(
    `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`,
    "_blank"
  );
}
</script>

</body>
</html>
